{"id":"soundboard-0hl","title":"Align tenant resolution to param/session (drop host subdomain lookup)","description":"Tenant plug prioritizes path/query over session, drops host lookup, persists resolved tenant, logs single missing-tenant warning; coverage added","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T23:49:24.494842-05:00","updated_at":"2025-11-30T00:10:15.697236-05:00","closed_at":"2025-11-30T00:10:15.69725-05:00"}
{"id":"soundboard-0yu","title":"[Epic] Exercise Pro Edition Runbook End-to-End","description":"Exercise the Pro edition runbook (PRO_README.md) end-to-end: boot the stack with Postgres, stand up at least two tenants, map guilds, and verify billing + API flows in a SaaS-like environment before enabling it for customers.\n\nSource: MULTITENANT_PLAN.md section 8","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-29T21:21:48.661695-05:00","updated_at":"2025-11-29T21:27:08.692725-05:00","closed_at":"2025-11-29T21:27:08.692725-05:00","close_reason":"All 6 verification tasks completed - Pro edition runbook exercised successfully","labels":["pro","verification"]}
{"id":"soundboard-0yu.1","title":"Verify Postgres migrations with SOUNDBORED_EDITION=pro","description":"Postgres migrations succeed on a fresh database with SOUNDBORED_EDITION=pro.\n\nSource: PRO_README.md section 10","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T21:22:02.144495-05:00","updated_at":"2025-11-29T21:24:36.860391-05:00","closed_at":"2025-11-29T21:24:36.860391-05:00","close_reason":"Verified: All 24 migrations ran successfully on fresh Postgres with SOUNDBORED_EDITION=pro","labels":["database","pro","verification"],"dependencies":[{"issue_id":"soundboard-0yu.1","depends_on_id":"soundboard-0yu","type":"parent-child","created_at":"2025-11-29T21:22:02.145067-05:00","created_by":"daemon"}]}
{"id":"soundboard-0yu.2","title":"Verify subdomain routing and tenant isolation","description":"Subdomain routing serves tenant-specific data (create a second tenant and confirm isolation).\n\nSource: PRO_README.md section 10","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T21:22:04.968554-05:00","updated_at":"2025-11-29T21:25:29.67367-05:00","closed_at":"2025-11-29T21:25:29.67367-05:00","close_reason":"Verified via tests: tenant_test.exs L#32 (subdomain routing) and soundboard_live_test.exs L#78 (tenant isolation)","labels":["pro","routing","verification"],"dependencies":[{"issue_id":"soundboard-0yu.2","depends_on_id":"soundboard-0yu","type":"parent-child","created_at":"2025-11-29T21:22:04.968996-05:00","created_by":"daemon"}]}
{"id":"soundboard-0yu.3","title":"Verify Discord guild events persist to correct tenant","description":"Discord guild events persist plays under the mapped tenant.\n\nSource: PRO_README.md section 10","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T21:22:07.692732-05:00","updated_at":"2025-11-29T21:26:14.57398-05:00","closed_at":"2025-11-29T21:26:14.57398-05:00","close_reason":"Verified via tests: discord_handler_test.exs covers guild mapping, voice events, and tenant association","labels":["discord","pro","verification"],"dependencies":[{"issue_id":"soundboard-0yu.3","depends_on_id":"soundboard-0yu","type":"parent-child","created_at":"2025-11-29T21:22:07.693231-05:00","created_by":"daemon"}]}
{"id":"soundboard-0yu.4","title":"Verify settings page shows plan usage and billing links","description":"/settings shows plan usage, upgrade link, and (optionally) manage portal URL.\n\nSource: PRO_README.md section 10","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T21:22:09.920548-05:00","updated_at":"2025-11-29T21:26:41.745804-05:00","closed_at":"2025-11-29T21:26:41.745804-05:00","close_reason":"Verified via code review + test: settings_live.ex shows plan, usage, upgrade link when edition=pro. Test at L#49 confirms rendering.","labels":["billing","pro","ui","verification"],"dependencies":[{"issue_id":"soundboard-0yu.4","depends_on_id":"soundboard-0yu","type":"parent-child","created_at":"2025-11-29T21:22:09.921008-05:00","created_by":"daemon"}]}
{"id":"soundboard-0yu.5","title":"Verify billing webhook updates tenant","description":"Billing webhook updates a tenant when replaying a fixture payload.\n\nSource: PRO_README.md section 10","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T21:22:11.772494-05:00","updated_at":"2025-11-29T21:26:59.986278-05:00","closed_at":"2025-11-29T21:26:59.986278-05:00","close_reason":"Verified via tests: billing_webhook_controller_test.exs L#19 confirms tenant billing updates work","labels":["billing","pro","verification","webhook"],"dependencies":[{"issue_id":"soundboard-0yu.5","depends_on_id":"soundboard-0yu","type":"parent-child","created_at":"2025-11-29T21:22:11.772911-05:00","created_by":"daemon"}]}
{"id":"soundboard-0yu.6","title":"Verify API tokens are tenant-scoped","description":"API tokens (/settings \u003e API Tokens) operate per tenant and cannot access another tenant's sounds.\n\nSource: PRO_README.md section 10","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T21:22:13.699071-05:00","updated_at":"2025-11-29T21:25:29.800214-05:00","closed_at":"2025-11-29T21:25:29.800214-05:00","close_reason":"Verified via tests: api_auth_db_token_test.exs L#69 (tenant scoping) and L#84 (blocks other tenant sounds)","labels":["api","pro","security","verification"],"dependencies":[{"issue_id":"soundboard-0yu.6","depends_on_id":"soundboard-0yu","type":"parent-child","created_at":"2025-11-29T21:22:13.699525-05:00","created_by":"daemon"}]}
{"id":"soundboard-1kl","title":"Edition-aware auth: community basic auth/API token bypass, pro tenant-scoped users","description":"edition-aware auth covered: community basic/API bypass preserved; pro tokens/session enforce tenant and clear mismatches; tests added","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T23:49:29.59886-05:00","updated_at":"2025-11-30T00:10:10.121622-05:00","closed_at":"2025-11-30T00:10:10.121629-05:00"}
{"id":"soundboard-3g0","title":"Stop full sound list reload on stats updates","description":"Every play broadcasts :stats_updated from Stats.track_play/2. SoundboardLive (and FavoritesLive) subscribe to stats_topic and handle :stats_updated by calling load_sound_files/1, which reloads all sounds with tags, user_sound_settings, and users. Repro: play one sound; logs show large IN(...) queries for user_sound_settings/tags repeated multiple times (e.g., 05:15:27 logs). Expected: plays should not reload entire sound catalog; only file changes should trigger that. Need to drop or gate the stats subscription, or throttle/restrict reloads.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T00:17:32.28608-05:00","updated_at":"2025-11-30T00:17:32.28608-05:00"}
{"id":"soundboard-3oq","title":"Community deploy forces Discord login even with basic auth/API token","description":"Community edition no longer forces Discord OAuth: Basic Auth runs before auth checks, API tokens are honored, and ensure_authenticated_user allows community access when either auth path succeeds. Added coverage for basic and bearer flows.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T23:19:59.963623-05:00","updated_at":"2025-11-29T23:30:44.687181-05:00","closed_at":"2025-11-29T23:30:44.687184-05:00"}
{"id":"soundboard-9sy","title":"LiveViews double-subscribe to legacy/per-tenant topics causing duplicate reloads and plays","description":"Removed legacy PubSub topic usage so LiveViews only subscribe to tenant-specific channels; broadcasts now target a single per-tenant topic and tests cover single delivery.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-29T23:20:03.946265-05:00","updated_at":"2025-11-29T23:30:41.245359-05:00","closed_at":"2025-11-29T23:30:41.245362-05:00"}
{"id":"soundboard-otk","title":"Tenant-scoped audio broadcasts for playback success/error","description":"AudioPlayer broadcasts now tenant-scoped with regression tests for stop/play error paths; no legacy/default topic duplicates","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T23:49:26.9292-05:00","updated_at":"2025-11-30T00:10:12.481307-05:00","closed_at":"2025-11-30T00:10:12.481318-05:00"}
{"id":"soundboard-pc4","title":"Reduce duplicate stats refresh on play events","description":"Single play triggers both :sound_played and :stats_updated handlers in StatsLive, causing back-to-back queries for recent plays/top users/top sounds. Repro: open /stats, play a sound; logs show multiple SELECTs for plays/sounds in same ms (see 2025-11-30 05:15:27-28 logs). Expected: one refresh per play. Suspect double subscription (soundboard_topic + stats_topic) plus both handlers. Need to dedupe/choose single event, possibly debounce.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-30T00:17:27.446917-05:00","updated_at":"2025-11-30T00:17:27.446917-05:00"}
{"id":"soundboard-q01","title":"Validate tenant routing change (tests)","description":"mix test passing; tenant routing specs validated with new coverage","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-29T23:49:31.942084-05:00","updated_at":"2025-11-30T00:10:07.534294-05:00","closed_at":"2025-11-30T00:10:07.534303-05:00"}
